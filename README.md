# Калькулятор металлокаркаса лестницы

Веб-приложение для расчета металлокаркаса лестницы с поддержкой различных материалов (ДПК, ПВЛ). Версия 0.5.

## Особенности

- 3D визуализация лестницы с использованием Three.js
- Поддержка материалов:
  - ДПК (декинг)
  - ПВЛ (просечно-вытяжной лист)
  - Комбинация ДПК+ПВЛ
- Расчет всех компонентов:
  - Длина профиля для основания
  - Длина профиля для ступеней
  - Длина профиля для вертикальных стоек
  - Длина профиля для усилений
- Редактируемая глубина ступеней
- Поддержка площадки
- Валидация всех входных параметров
- Логирование операций

## Технические требования

- Python 3.8+ (рекомендуется последняя версия Python 3.10+)
- Flask 2.0.1 или выше
- Three.js r128 или выше
- Современный веб-браузер с поддержкой WebGL (например, Google Chrome, Firefox)

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd DPK_Sebestoimost
```

2. Создайте виртуальное окружение и активируйте его:
```bash
python -m venv venv
.\venv\Scripts\activate  # Windows
source venv/bin/activate  # Linux/Mac
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Запуск

### Разработка

Запустите приложение в режиме разработки:
```bash
python app.py
```

Приложение будет доступно по адресу: [http://localhost:5000](http://localhost:5000)

### Тестирование

Запустите тесты:
```bash
pytest
```

Или с измерением покрытия кода:
```bash
pytest --cov=.
```

### Продакшн

Запустите приложение с Gunicorn:
```bash
gunicorn -w 4 -b 0.0.0.0:5000 app:app
```

## Конфигурация

Настройки приложения находятся в файле `config.py`:

### Ограничения размеров
- MIN_WIDTH = 300 мм
- MAX_WIDTH = 6000 мм
- MIN_HEIGHT = 100 мм (для одной ступени)
- MAX_HEIGHT = 3400 мм
- MIN_STEP_HEIGHT = 110 мм
- MAX_STEP_HEIGHT = 300 мм

### Размеры материалов
- PROFILE_THICKNESS = 20 мм
- DPK_DEPTH = 305 мм
- PVL_DEPTH = 300 мм
- DPK_REDUCTION = 25 мм

## Структура проекта

```
DPK_Sebestoimost/
├── app.py              # Основной файл приложения
├── config.py           # Конфигурация
├── requirements.txt    # Зависимости
├── static/            
│   └── js/
│       └── main.js    # Клиентский JavaScript
├── templates/
│   └── index.html     # Основной шаблон
├── tests/             # Тесты
└── logs/              # Логи приложения
```

## Известные ограничения

1. Не учитываются сварные швы
2. Нет расчета веса конструкции
3. Нет проверки прочности

## Планы развития

1. Добавить расчет сварных швов
2. Добавить расчет веса конструкции
3. Реализовать проверку прочности
4. Добавить экспорт в PDF
5. Добавить сохранение проектов
6. Добавить поддержку дополнительных материалов
7. Улучшить 3D визуализацию (например, добавить текстуры)

## Полезные ресурсы

- [Документация Flask](https://flask.palletsprojects.com/)
- [Документация Three.js](https://threejs.org/docs/)
- [Документация Gunicorn](https://docs.gunicorn.org/)

## Лицензия

MIT
